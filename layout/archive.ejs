<%
    var title = '';
    if (page.archive) {
        if (page.year) title = page.year + (page.month ? '/' + page.month : '');
        else title = __('archive_a');
    }

    var postList = [];
    if (page.tag) {
        site.tags.forEach(function(item) {
            if(item.name === page.tag) {
                postList = item.posts;
            }
        });
        title = "# " + page.tag;
    } else {
        postList = site.posts;
    }
%>

<!-- Banner -->
<%- partial('_partial/banner.ejs', {
    mainText: title,
    icon: theme.archive_icon || 'ðŸ“‚'
}) %>

<div class="w-100 ph2 ph4-m ph5-l mv5 mv6-l">
    <div class="content">
        <div class="mw8 center">
            <% postList.sort('date',-1).each(function(item){ %>
                <%- partial('_partial/article-archive', {item: item}) %>
            <% }); %>
        </div>
    </div>
</div>